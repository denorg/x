"use strict";if(void 0===window.exports&&(window.exports=window),void 0===window.React&&void 0!==window.preact)var React=window.preact;function _instanceof(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!_instanceof(e,t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var LazyLoad=function(){function r(e){var t;return _classCallCheck(this,r),(t=_possibleConstructorReturn(this,_getPrototypeOf(r).call(this,e))).state={isReady:!1},t}return _inherits(r,React.Component),_createClass(r,[{key:"componentDidMount",value:function(){var e=this;this.loadScripts(this.props.scripts,this.props.loadScriptsInOrder).then(function(){e.setState({isReady:!0})})}},{key:"loadScripts",value:function(i,e){function s(i){return new Promise(function(e){for(var t=document.querySelectorAll("link"),r=0,o=t.length;r<o;r++)if("stylesheet"===t[r].rel&&t[r].getAttribute("href")===i)return void e();var n=document.createElement("link");n.rel="stylesheet",n.onload=e,n.onerror=function(){console.error("Error loading CSS File: "+i),e()},n.href=i,document.head.appendChild(n)})}function a(i){return new Promise(function(e){for(var t=document.querySelectorAll("script"),r=0,o=t.length;r<o;r++)if(t[r].getAttribute("src")===i)return void e();var n=document.createElement("script");n.onload=e,n.onerror=function(){console.error("Error loading JS File: "+i),e()},n.src=i,document.head.appendChild(n)})}function c(i){return new Promise(function(e){for(var t=document.querySelectorAll("script[data-src][data-compiler]"),r=0,o=t.length;r<o;r++)if(t[r].getAttribute("data-src")===i)return void e();var n=document.createElement("script");n.type="text/babel",n.setAttribute("src",i),document.head.appendChild(n),jsxLoader.loadScript(n).then(function(){e()})})}if("string"==typeof i)i=[i];else if(!Array.isArray(i))return console.error("Invalid prop for <LazyLoad>, expected [scripts] to be a string or an array of strings. Check console."),console.log(i),new Promise(function(e){e()});return!0===e?new Promise(function(r){var o=0,n=i.length;!function e(){if(o!==n){var t=i[o];o++,t.endsWith(".js")?a(t).then(e):t.endsWith(".css")?s(t).then(e):t.endsWith(".jsx")?c(t).then(e):(console.error("Invalid Script for <LazyLoad>. Only scripts ending with [js, css, or jsx] can be used. Error URL: "+t),e())}else r()}()}):new Promise(function(e){for(var t=[],r=0,o=i.length;r<o;r++){var n=i[r];n.endsWith(".js")?t.push(a(n)):n.endsWith(".css")?t.push(s(n)):n.endsWith(".jsx")?t.push(c(n)):console.error("Invalid Script for <LazyLoad>. Only scripts ending with [js, css, or jsx] can be used. Error URL: "+n)}Promise.all(t).then(function(){e()})})}},{key:"loadPolyfill",value:function(e,i){return!1===e||void 0===e?new Promise(function(e,t){var r,o,n;r=e,o=t,(n=document.createElement("script")).onload=function(){r()},n.onerror=function(){console.error("Error loading Script: "+i),o()},n.src=i,document.head.appendChild(n)}):new Promise(function(e){e()})}},{key:"render",value:function(){if(!this.state.isReady)return this.props.isLoading?this.props.isLoading:null;if(this.props.children)return this.props.children;if(this.props.isLoaded){if("string"!=typeof this.props.isLoaded)return this.props.isLoaded;var e=this.props.isLoaded,t={};for(var r in this.props)this.props.hasOwnProperty(r)&&"scripts"!==r&&"isLoaded"!==r&&"isLoading"!==r&&(t[r]=this.props[r]);if(void 0!==window&&void 0!==window[e])return React.createElement(window[e],t);if(void 0!==globalThis&&void 0!==globalThis[e])return React.createElement(globalThis[e],t);throw new TypeError("Component <LazyLoad isLoaded="+JSON.stringify(e)+"> was not found. Check if your script is missing or has a compile error.")}throw new TypeError("Missing child nodes or the [isLoaded] property for a <LazyLoad> element.")}}]),r}();exports.default=LazyLoad;